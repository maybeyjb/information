# 信息收集


#cdn

cdn主要用来加速使用

配置cdn   加速区域：全国/全球/除了国内

找真实ip-----cdn绕过：

1、域名的子域名一般都是用ip，或者同网段--------比如：www.xiaodi8.com加速，但是bb.xiaodi8.com没有加速，那么就可以通过bb.xiaodi8.com的解析来推算www.xiaodi8.com的真实ip

2、通过历史解析记录，历史dns解析记录，证书记录(https ssl 443          http没有证书)，因为有的是刚买下来ip没有加速，玩了一段时间后才开通的dns加速，那么就可以查找历史Dns解析来找到其真实ip

 配置cdn。

 对域名进行解析，检测

  通过漏洞绕过cdn	借助ssrf，比如图片上传这种，你设置的地址是让服务器主动找出来，让服务器主动请求，这肯定是真实的ip。

就比如利用服务器自身的ssrf，让其主动的出来访问，那么对应的就是服务器的真实ip

![image-20250308182919235](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451853.png)

 邮件服务器不行的原因

有时候，比如你让目标服务器主动给你发邮件，但是发的是qq，那么qq就可能经过自身的邮箱中转改变ip。

##### mozhe

  	这里是可以看到mozhe是有cdn加速的：

![image-20250308183940726](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451854.png)

让其主动发出来，这里的ip就大概率是mozhe服务器的真实ip，但是因为这里是qq邮箱，所以还是有可能这里的ip是经过qq服务器中转的。但是如果是自己搭建的邮箱系统，让目标给你主动发，那么就大概率是真实的：

![image-20250308183740583](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451856.png)

像这种就是经过aliyun中转的，那就有自己的策略，中间也经过转发，不容易发现真实ip：

![image-20250308184052050](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451857.png)

还有的会泄露phpinfo，此类配置文件：

![image-20250308220607721](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451858.png)

有时候可以从其子域名入口进行查找真实ip，就是因为他cdn加速只加速了www.sp910.com       但是他的.sp910.com 是指指向www.sp910.com：

![image-20250308221909193](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451859.png)

  找到真实ip后，下来就绑定真实ip，修改host文件。

![image-20250308222141907](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451860.png)



查cdn的厂商：

![image-20250308223007982](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451861.png)

 工具绕cdn、查到cdn厂商后，用纯真查找对应厂商下的ip归属，然后在用工具对ip目录批量扫、查找真实的ip



![image-20250308224308099](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451862.png)

用之前还需要将查出来的厂商ip都放到ip.txt里，然后进而批量扫：

![image-20250308224404796](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451863.png)

利用网络空间查找真实ip

![image-20250308224623856](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451864.png)

但是自然是无法找到最新，因为网络空间是需要延时性。
# 项目工具

信息收集项目

  配置enscan：

![image-20250309221459898](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451902.png)

查找公司、配置的信息越高端，信息就全：

![image-20250309221710234](https://cdn.jsdelivr.net/gh/maybeyjb/maybe/img/202506121451903.png)

